<!-- Conteneur principal Bootstrap -->
<div id="livegame" class="container">
	<div class="row justify-content-center">
	  <!-- La colonne s'ajuste : sur mobile, col-12, sur petit écran au-dessus de 576px, col-sm-10 -->
	  <div id="game-col" class="col-12 col-sm-10 d-flex flex-column align-items-center">
		<!-- Terrain de jeu -->
		<div class="game-container mt-1">
		  <canvas id="gameCanvas" width="800" height="400"></canvas>
		  <button id="startGameBtn" class="starting-btn">PLAY</button>
		</div>
		<!-- Boutons de contrôle -->
		<div id="left_player" class="touch-controls">
		  <button class="control-btn">&#x25C0;</button>  <!-- Flèche gauche -->
		  <button class="control-btn">&#x25B6;</button>  <!-- Flèche droite -->
		</div>
	  </div>
	</div>
  </div>

  <style>
/* Styles globaux */
body, html {
  margin: 0;
  padding: 0;
  overflow: hidden;
}
.mask {
  display: none;
}

/* Conteneur principal Bootstrap déjà défini par .container */

/* Conteneur du terrain */
.game-container {
  position: relative;
  background-color: #101A32;
  border: 1px solid white;
  border-radius: 1em;
  overflow: hidden;
  /* Les dimensions seront définies dynamiquement par JS */
  min-width: 100px;
  min-height: 200px;
}

/* Canvas (dimensions internes 800x400, affiché verticalement via transformation) */
#gameCanvas {
  position: absolute;
  transform-origin: top left;
}

/* Bouton PLAY, centré sur le terrain */
#startGameBtn {
  position: absolute;
  z-index: 60;
  font-family: "Jersey 10", sans-serif;
  width: 30%;
  height: 40%;
  color: rgba(45,180,243,0.7);
  background: none;
  border: none;
  opacity: 0.1;
  transition: opacity 0.5s ease-in-out;
  font-size: clamp(2rem, 20vw, 15vh);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  min-width: 100px;
  top: 50%;
  left: 50%;
  /* La translation permet de centrer le bouton dans la div game-container,
     puis on applique la rotation pour l'orientation verticale */
  transform: translate(-50%, -50%) rotate(-90deg);
}

@keyframes blink {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}

.starting-btn.active {
  color: #2DB4F3;
  animation: blink 2s infinite;
}

/* Conteneur des boutons tactiles : largeur exactement adaptée au contenu */
.touch-controls {
  display: inline-flex;
  justify-content: center;
  align-items: flex-start;
  gap: 5px;          /* Espace fixe entre les boutons */
  margin-top: 1vh;   /* Distance fixe entre le terrain et les boutons */
  height: 5vh !important;
}

/* Nouveau design des boutons avec min et max imposés */
.control-btn {
	font-family: "Jersey 10", sans-serif;
	/* Appliquer le facteur d'échelle directement aux valeurs */
	font-size: calc(clamp(1rem, 6vw, 1.3rem) * var(--btn-scale, 1));
	/* Réduire la hauteur (vertical) et allonger la largeur (horizontal) */
	padding: calc(8px * var(--btn-scale, 1)) calc(40px * var(--btn-scale, 1));
	border: none;
	border-radius: 0.75em;
	background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
	color: #fff;
	box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.4);
	transition: all 0.2s ease;
	/* Imposer des tailles minimum et maximum pour que le bouton reste cliquable */
    width: 30vw;
    height: 5vh;
    min-width: 60px;
    min-height: 10px;
    max-width: 150px;
    max-height: 60px;
}

.control-btn:hover {
  background: linear-gradient(145deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
  box-shadow: 3px 3px 7px rgba(0, 0, 0, 0.6);
}

.control-btn:active {
  filter: brightness(0.9);
}

#content {
	padding-bottom: 0 !important;
}

  </style>